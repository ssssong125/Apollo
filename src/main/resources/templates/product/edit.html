<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        td{
            color: white;
        }
        label{
            color: white;
        }
    </style>
</head>
<body style="background-color: black">
<div th:include="fragments/header.html"></div>
<h3 align="center">상품 정보 수정</h3>

<form th:object="${edit}" method="post" align="center" enctype="multipart/form-data">

    <br>
    <br>
    <br>
    <label> 이름 : </label><input type="text" name="productName"/><br>
    <label> 가격 : </label><input type="number" name="productPrice"/><br>
    <label> 설명 : </label><textarea name="productDesc"></textarea><br>
    <label> 수량 : </label><input type="number" name="productQty"/><br>


    <label>종류 :<select name="categoryCode" size="3">
        <option value="C1">바이올린</option>
        <option value="C2">비올라</option>
        <option value="C3">첼로</option>
        <option value="C4">콘트라 베이스</option>
        <option value="C5">기타</option>
        <option value="C6">하프</option>
        <option value="C7">플룻</option>
        <option value="C8">트럼펫</option>
        <option value="C9">호른</option>
        <option value="C10">피아노</option>
    </select></label>

    <div class="thumbnail-insert-area">
        <table align="center">

            <tr>
                <td>대표 이미지</td>
                <td colspan="3">
                    <div class="title-img-area" id="titleImgArea">
                        <img id="titleImg" width="350" height="200">
                    </div>
                </td>
            </tr>
            <tr>
                <td>추가 사진</td>
                <td>
                    <div class="content-img-area1" id="contentImgArea1">
                        <img id="contentImg1" width="120" height="100">
                    </div>
                </td>
                <td>
                    <div class="content-img-area2" id="contentImgArea2">
                        <img id="contentImg2" width="120" height="100">
                    </div>
                </td>


            </tr>

        </table>
        <div class="thumbnail-file-area">

            <input type="file" id="thumbnailImg1" name="imgFile" multiple="multiple" onchange="loadImg(this,1)" hidden="hidden">
            <input type="file" id="thumbnailImg2" name="imgFile" multiple="multiple" onchange="loadImg(this,2)" hidden="hidden">
            <input type="file" id="thumbnailImg3" name="imgFile" multiple="multiple" onchange="loadImg(this,3)" hidden="hidden">

        </div>
    </div>
    <br>
    <div class="thumbnail-btn-area">
        <button>취소하기</button>
        <button type="submit">작성완료</button>
    </div>
</form>

<script th:inline="javascript">

    const $titleImgArea = document.getElementById("titleImgArea");
    const $contentImgArea1 = document.getElementById("contentImgArea1");
    const $contentImgArea2 = document.getElementById("contentImgArea2");
    // const $contentImgArea3 = document.getElementById("contentImgArea3");

    $titleImgArea.onclick = function() {
        document.getElementById("thumbnailImg1").click();
    }

    $contentImgArea1.onclick = function() {
        document.getElementById("thumbnailImg2").click();
    }

    $contentImgArea2.onclick = function() {
        document.getElementById("thumbnailImg3").click();
    }


    function loadImg(value, num) {
        if (value.files && value.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                switch(num){
                    case 1:
                        document.getElementById("titleImg").src = e.target.result;
                        break;
                    case 2:
                        document.getElementById("contentImg1").src = e.target.result;
                        break;
                    case 3:
                        document.getElementById("contentImg2").src = e.target.result;
                        break;

                }
            }
            reader.readAsDataURL(value.files[0]);
        }
    }
</script>
</form>
</body>
</html>